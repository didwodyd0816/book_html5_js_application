<!DOCTYPE HTML>
<html>
  <head>
    <title>Orientaion Test</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=1" />

    <!-- Application's resources -->
  </head>
  <body>
    <section data-role="page">
      <article id="orientation">
        <h2>Orientation:</h2>
        <p></p>
      </article>
      <article id="motion">
        <h2>Motions:</h2>
        <p></p>
      </article>
    </section><!-- /page -->

  </body>

<script>
	if (window.DeviceOrientationEvent) {
		window.addEventListener("deviceorientation", orientationHandler, true);
	} else {
		alert("DeviceOrientation not supported");
	}

	if (window.DeviceMotionEvent) {
		window.addEventListener('devicemotion', motionHandler, true);
	} else {
		alert("DeviceMotionEvent Not Supported");
	}

	function orientationHandler(event) {
		var result = document.querySelector("#orientation > p");

        if (event.alpha < 180) {
	         result.innerHTML = "왼쪽<br/>";
	     } else {
	         result.innerHTML = "오른쪽<br/>";
	     } 

		result.innerHTML += '<p>alpha: ' + event.alpha
			+ '<br/>beta: ' + event.beta
			+ '<br />gamma: ' + event.gamma + "</p>";
	};

	function motionHandler(event) {
		var result = document.querySelector("#motion > p");
		var x = event.accelerationIncludingGravity.x;
		var y = event.accelerationIncludingGravity.y;
		var z = event.accelerationIncludingGravity.z;
		var r = event.rotationRate;
		var html = '<h4>Acceleration</h4>';
		html += 'x: ' + x + '<br />y: ' + y + '<br/>z: ' + z + '<br />';
		html += 'Rotation rate:<br />';
		if (r != null)
			html += 'alpha: ' + r.alpha + '<br />beta: ' + r.beta
					+ '<br/>gamma: ' + r.gamma + '<br />';
		result.innerHTML = html;
	};
</script>

</html>
