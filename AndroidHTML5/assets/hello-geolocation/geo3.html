<!DOCTYPE html>
<html><head><meta charset="utf-8"></head><body>
<div id="msg"></div>
<!-- Android 1.6지원 -->
<script type="text/javascript" src="gear5-0.3.js"></script>
<script type="text/javascript">
  window.onload = function() {
    // geolocation을 지원하는 여부 확인
    if (navigator.geolocation == undefined) {
      alert("위치 정보를 이용할 수 없습니다."); return;
    }
    // 감시 시작
    navigator.geolocation.watchPosition(
      successCallback, errorCallback);
  };
  // 성공했을 때
  function successCallback(position) {
    var lat = position.coords.latitude;
    var lon = position.coords.longitude;
    var uri = "http://maps.google.co.kr/?q=" + lat + "," + lon;
    var msg = document.getElementById("msg");
    msg.innerHTML = 
      "<h1>현재 위치를 업데이트하였습니다.</h1>" +
      "<p><a href='" + uri + "'>현재 위치를 표시</a></p>" +
      "<p>" + (new Date()).toString() + "</p>";
  }
  // 실패하였을 때
  function errorCallback(err) {
      alert("실패("+err.code+")"+err.message);
  }
</script>
</body></html>
